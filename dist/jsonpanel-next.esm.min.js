function e(e,n){const a=function(e){return JSON.parse(JSON.stringify(e))}(n);return Object.assign(a,e)}class n{constructor(e,n,a){this.key=e,this.value=n,this.valueTransformer=a}static create(e,n,s){return i=n,"[object Object]"===Object.prototype.toString.call(i)||Array.isArray(n)?new t(e,n,s):new a(e,n,s);var i}getKeyMarkup(){return`<span class="key">${this.key}</span>`}get valueType(){return typeof this.value}getValueInnerMarkup(){return JSON.stringify(this.value)}createTagInnerMarkup(){return`${this.getKeyMarkup()}: <span class="value ${this.valueType}">${this.getValueInnerMarkup()}</span>`}get class(){return"pair"}createTag(){const e=document.createElement("li");return e.className=this.class,e.innerHTML=this.createTagInnerMarkup(),e}render(){this.el=this.createTag()}}class a extends n{get class(){return`${super.class} simple`}getValueInnerMarkup(){return this.valueTransformer instanceof Function?this.valueTransformer(super.getValueInnerMarkup()):super.getValueInnerMarkup()}}class t extends n{get valueType(){return Array.isArray(this.value)?"array":"object"}get class(){return`${super.class} expandable`}getValueInnerMarkup(){const e=super.getValueInnerMarkup().match(/^([{[])(.*)([}\]])$/);return`${e[1]}<span class="value-inner">${e[2]}</span>${e[3]}`}createTagInnerMarkup(){return`<a class="expander" href="#">${super.createTagInnerMarkup()}</a>`}render(){super.render(),this.el.querySelector(".expander").addEventListener("click",(e=>this.onKeyClick(e)))}get expanded(){return this.el.classList.contains("expanded")}expand(){i.renderToEl(this.el,{data:this.value,valueTransformer:this.valueTransformer}),this.el.classList.add("expanded")}collapse(){for(const e of this.el.querySelectorAll(".panel"))e.remove();this.el.classList.remove("expanded")}onKeyClick(e){this.expanded?this.collapse():this.expand(),e.stopPropagation(),e.preventDefault()}}var s=n.create;class i{constructor(e){this.options=e}get selector(){return this.options.selector}get data(){return this.options.data}get valueTransformer(){return this.options.valueTransformer}isArray(){return Array.isArray(this.data)}createListTag(){if(this.isArray()){const e=document.createElement("ol");return e.className="list",e.start=0,e}const e=document.createElement("ul");return e.className="list",e}createListItem(e,n){const a=s(e,n,this.valueTransformer);return a.render(),a.el}render(){const e=this.createListTag();for(const[n,a]of Object.entries(this.data))e.append(this.createListItem(n,a));const n=document.createElement("div");return n.className="panel",n.append(e),this.el=n,this}static renderToEl(e,n){const a=new i(n);return a.render(),e.append(a.el),a}}!function(e,n){void 0===n&&(n={});var a=n.insertAt;if(e&&"undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===a&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}('.jsonpanel{box-sizing:border-box;font-family:monospace;line-height:1.4;padding:1em;white-space:nowrap}.jsonpanel *{margin:0;padding:0}.jsonpanel .panel{display:inline-block;vertical-align:top}.jsonpanel .list{list-style-type:none;padding:.5em 0}.jsonpanel ul:before{content:"{"}.jsonpanel ul:after{content:"}"}.jsonpanel ol:before{content:"["}.jsonpanel ol:after{content:"]"}.jsonpanel .key{font-weight:700;margin-left:1em}.jsonpanel .pair.simple{max-width:600px;padding-left:30px;text-indent:-30px;white-space:normal}.jsonpanel .pair .value:after{content:","}.jsonpanel .pair:last-child .value:after{display:none}.jsonpanel .value-inner{display:inline-block;max-width:28em;overflow:hidden;text-overflow:ellipsis;vertical-align:top}.jsonpanel .expander{color:#000;display:block;text-decoration:none}.jsonpanel .expander:hover{background-color:#d3dff0;transition:background-color .3s ease}.jsonpanel .expander .key:before{content:"+";margin-right:.5em}.jsonpanel .expanded{position:relative}.jsonpanel .expanded>.expander .key:before{content:"-"}.jsonpanel .expanded>.expander .value{opacity:0}.jsonpanel .expanded>.panel{margin-left:2em}.jsonpanel .boolean{color:red}.jsonpanel .string{color:green}.jsonpanel .number{color:blue}.jsonpanel .array .value-inner,.jsonpanel .object .value-inner{color:#a5a5a5}@-webkit-keyframes fadeInText{0%{opacity:0}to{opacity:1}}@keyframes fadeInText{0%{opacity:0}to{opacity:1}}.list{-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-name:fadeInText;animation-name:fadeInText;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}.value{opacity:1;transition:opacity .4s ease}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzb25wYW5lbC1uZXh0LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FDRSxxQkFBc0IsQ0FFdEIscUJBQXNCLENBRXRCLGVBQWdCLENBRGhCLFdBQVksQ0FGWixrQkFJRixDQUNBLGFBQ0UsUUFBUyxDQUNULFNBQ0YsQ0FDQSxrQkFDRSxvQkFBcUIsQ0FDckIsa0JBQ0YsQ0FDQSxpQkFDRSxvQkFBcUIsQ0FDckIsY0FDRixDQUNBLHFCQUNFLFdBQ0YsQ0FDQSxvQkFDRSxXQUNGLENBQ0EscUJBQ0UsV0FDRixDQUNBLG9CQUNFLFdBQ0YsQ0FDQSxnQkFFRSxlQUFpQixDQURqQixlQUVGLENBQ0Esd0JBQ0UsZUFBZ0IsQ0FDaEIsaUJBQWtCLENBQ2xCLGlCQUFrQixDQUNsQixrQkFDRixDQUNBLDhCQUNFLFdBQ0YsQ0FDQSx5Q0FDRSxZQUNGLENBQ0Esd0JBQ0Usb0JBQXFCLENBQ3JCLGNBQWUsQ0FDZixlQUFnQixDQUNoQixzQkFBdUIsQ0FDdkIsa0JBQ0YsQ0FDQSxxQkFHRSxVQUFZLENBRlosYUFBYyxDQUNkLG9CQUVGLENBQ0EsMkJBRUUsd0JBQXlCLENBRHpCLG9DQUVGLENBQ0EsaUNBQ0UsV0FBWSxDQUNaLGlCQUNGLENBQ0EscUJBQ0UsaUJBQ0YsQ0FDQSwyQ0FDRSxXQUNGLENBQ0Esc0NBQ0UsU0FDRixDQUNBLDRCQUNFLGVBQ0YsQ0FDQSxvQkFDRSxTQUNGLENBQ0EsbUJBQ0UsV0FDRixDQUNBLG1CQUNFLFVBQ0YsQ0FDQSwrREFFRSxhQUNGLENBRUEsOEJBQ0UsR0FDRSxTQUNGLENBQ0EsR0FDRSxTQUNGLENBQ0YsQ0FQQSxzQkFDRSxHQUNFLFNBQ0YsQ0FDQSxHQUNFLFNBQ0YsQ0FDRixDQUNBLE1BSUUsOEJBQXdCLENBQXhCLHNCQUF3QixDQUN4QixvQ0FBNkIsQ0FBN0IsNEJBQTZCLENBSDdCLG1DQUE0QixDQUE1QiwyQkFBNEIsQ0FENUIsaUNBQTBCLENBQTFCLHlCQUEwQixDQUUxQix5Q0FBa0MsQ0FBbEMsaUNBR0YsQ0FFQSxPQUNFLFNBQVUsQ0FDViwyQkFDRiIsImZpbGUiOiJqc29ucGFuZWwtbmV4dC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmpzb25wYW5lbCB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XG4gIHBhZGRpbmc6IDFlbTtcbiAgbGluZS1oZWlnaHQ6IDEuNDtcbn1cbi5qc29ucGFuZWwgKiB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbn1cbi5qc29ucGFuZWwgLnBhbmVsIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xufVxuLmpzb25wYW5lbCAubGlzdCB7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgcGFkZGluZzogMC41ZW0gMDtcbn1cbi5qc29ucGFuZWwgdWw6YmVmb3JlIHtcbiAgY29udGVudDogXCJ7XCI7XG59XG4uanNvbnBhbmVsIHVsOmFmdGVyIHtcbiAgY29udGVudDogXCJ9XCI7XG59XG4uanNvbnBhbmVsIG9sOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiW1wiO1xufVxuLmpzb25wYW5lbCBvbDphZnRlciB7XG4gIGNvbnRlbnQ6IFwiXVwiO1xufVxuLmpzb25wYW5lbCAua2V5IHtcbiAgbWFyZ2luLWxlZnQ6IDFlbTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4uanNvbnBhbmVsIC5wYWlyLnNpbXBsZSB7XG4gIG1heC13aWR0aDogNjAwcHg7XG4gIHBhZGRpbmctbGVmdDogMzBweDtcbiAgdGV4dC1pbmRlbnQ6IC0zMHB4O1xuICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xufVxuLmpzb25wYW5lbCAucGFpciAudmFsdWU6YWZ0ZXIge1xuICBjb250ZW50OiBcIixcIjtcbn1cbi5qc29ucGFuZWwgLnBhaXI6bGFzdC1jaGlsZCAudmFsdWU6YWZ0ZXIge1xuICBkaXNwbGF5OiBub25lO1xufVxuLmpzb25wYW5lbCAudmFsdWUtaW5uZXIge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIG1heC13aWR0aDogMjhlbTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIHZlcnRpY2FsLWFsaWduOiB0b3A7XG59XG4uanNvbnBhbmVsIC5leHBhbmRlciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGNvbG9yOiBibGFjaztcbn1cbi5qc29ucGFuZWwgLmV4cGFuZGVyOmhvdmVyIHtcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7XG4gIGJhY2tncm91bmQtY29sb3I6ICNEM0RGRjA7XG59XG4uanNvbnBhbmVsIC5leHBhbmRlciAua2V5OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiK1wiO1xuICBtYXJnaW4tcmlnaHQ6IDAuNWVtO1xufVxuLmpzb25wYW5lbCAuZXhwYW5kZWQge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4uanNvbnBhbmVsIC5leHBhbmRlZCA+IC5leHBhbmRlciAua2V5OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiLVwiO1xufVxuLmpzb25wYW5lbCAuZXhwYW5kZWQgPiAuZXhwYW5kZXIgLnZhbHVlIHtcbiAgb3BhY2l0eTogMDtcbn1cbi5qc29ucGFuZWwgLmV4cGFuZGVkID4gLnBhbmVsIHtcbiAgbWFyZ2luLWxlZnQ6IDJlbTtcbn1cbi5qc29ucGFuZWwgLmJvb2xlYW4ge1xuICBjb2xvcjogcmVkO1xufVxuLmpzb25wYW5lbCAuc3RyaW5nIHtcbiAgY29sb3I6IGdyZWVuO1xufVxuLmpzb25wYW5lbCAubnVtYmVyIHtcbiAgY29sb3I6IGJsdWU7XG59XG4uanNvbnBhbmVsIC5hcnJheSAudmFsdWUtaW5uZXIsXG4uanNvbnBhbmVsIC5vYmplY3QgLnZhbHVlLWlubmVyIHtcbiAgY29sb3I6ICNhNWE1YTU7XG59XG5cbkBrZXlmcmFtZXMgZmFkZUluVGV4dCB7XG4gIGZyb20ge1xuICAgIG9wYWNpdHk6IDA7XG4gIH1cbiAgdG8ge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cbn1cbi5saXN0IHtcbiAgYW5pbWF0aW9uLW5hbWU6IGZhZGVJblRleHQ7XG4gIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XG4gIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XG4gIGFuaW1hdGlvbi1kdXJhdGlvbjogMC40cztcbiAgYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XG59XG5cbi52YWx1ZSB7XG4gIG9wYWNpdHk6IDE7XG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMC40cyBlYXNlO1xufSJdfQ== */');const r={selector:"#jsonpanel",data:{}};function l(n){return n=e(n,r),i.renderToEl(window.document.querySelector(n.selector),n)}export{l as default};
//# sourceMappingURL=jsonpanel-next.esm.min.js.map
