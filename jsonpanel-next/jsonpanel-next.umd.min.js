/*!
 * jsonpanel-next v1.0.0
 * (c) 2019 Tan Zhen Yong
 * Released under the MIT License.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).jsonpanelNext=t()}(this,function(){"use strict";function t(e,t){var n=function(e){return JSON.parse(JSON.stringify(e))}(t);return Object.assign(n,e)}function e(e,t,n){this.key=e,this.val=t,this.valTransformer=n}var n={valType:{configurable:!0},class:{configurable:!0}};e.create=function(e,t,n){return function(e){return"[object Object]"===Object.prototype.toString.call(e)}(t)||Array.isArray(t)?new i(e,t,n):new a(e,t,n)},e.prototype.getKeyMarkup=function(){return'<span class="key">'+this.key+"</span>"},n.valType.get=function(){return typeof this.val},e.prototype.getValInnerMarkup=function(){return JSON.stringify(this.val)},e.prototype.createTagInnerMarkup=function(){return this.getKeyMarkup()+': <span class="val '+this.valType+'">'+this.getValInnerMarkup()+"</span>"},n.class.get=function(){return"pair"},e.prototype.createTag=function(){var e=document.createElement("li");return e.className=this.class,e.innerHTML=this.createTagInnerMarkup(),e},e.prototype.render=function(){this.el=this.createTag()},Object.defineProperties(e.prototype,n);var a=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={class:{configurable:!0}};return n.class.get=function(){return e.prototype.class+" simple"},t.prototype.getValInnerMarkup=function(){return this.valTransformer instanceof Function?this.valTransformer(e.prototype.getValInnerMarkup.call(this)):e.prototype.getValInnerMarkup.call(this)},Object.defineProperties(t.prototype,n),t}(e),i=function(n){function e(){n.apply(this,arguments)}n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e;var t={valType:{configurable:!0},class:{configurable:!0},expanded:{configurable:!0}};return t.valType.get=function(){return Array.isArray(this.val)?"array":"object"},t.class.get=function(){return n.prototype.class+" expandable"},e.prototype.getValInnerMarkup=function(){var e=n.prototype.getValInnerMarkup.call(this).match(/^([{[])(.*)([}\]])$/);return e[1]+'<span class="val-inner">'+e[2]+"</span>"+e[3]},e.prototype.createTagInnerMarkup=function(){return'<a class="expander" href="#">'+n.prototype.createTagInnerMarkup.call(this)+"</a>"},e.prototype.render=function(){var t=this;n.prototype.render.call(this),this.el.querySelector(".expander").addEventListener("click",function(e){return t.onKeyClick(e)})},t.expanded.get=function(){return this.el.classList.contains("expanded")},e.prototype.expand=function(){o.renderToEl(this.el,{data:this.val}),this.el.classList.add("expanded")},e.prototype.collapse=function(){this.el.querySelectorAll(".panel").forEach(function(e){return e.parentNode.removeChild(e)}),this.el.classList.remove("expanded")},e.prototype.onKeyClick=function(e){this.expanded?this.collapse():this.expand(),e.stopPropagation(),e.preventDefault()},Object.defineProperties(e.prototype,t),e}(e),r=e.create,o=function(e){this.options=e},s={selector:{configurable:!0},data:{configurable:!0},valTransformer:{configurable:!0}};s.selector.get=function(){return this.options.selector},s.data.get=function(){return this.options.data},s.valTransformer.get=function(){return this.options.valTransformer},o.prototype.isArray=function(){return Array.isArray(this.data)},o.prototype.createListTag=function(){if(this.isArray()){var e=document.createElement("ol");return e.className="list",e.start=0,e}var t=document.createElement("ul");return t.className="list",t},o.prototype.createListItem=function(e,t){var n=r(e,t,this.valTransformer);return n.render(),n.el},o.prototype.render=function(){var a=this,i=this.createListTag();Object.entries(this.data).forEach(function(e){var t=e[0],n=e[1];i.append(a.createListItem(t,n))});var e=document.createElement("div");return e.className="panel",e.append(i),this.el=e,this},o.renderToEl=function(e,t){var n=new o(t);return n.render(),e.append(n.el),n},Object.defineProperties(o.prototype,s);!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}('.jsonpanel{box-sizing:border-box;white-space:nowrap;font-family:monospace;padding:1em;line-height:1.4}.jsonpanel *{margin:0;padding:0}.jsonpanel .panel{display:inline-block;vertical-align:top}.jsonpanel .list{list-style-type:none;padding:.5em 0}.jsonpanel ul:before{content:"{"}.jsonpanel ul:after{content:"}"}.jsonpanel ol:before{content:"["}.jsonpanel ol:after{content:"]"}.jsonpanel .key{margin-left:1em;font-weight:700}.jsonpanel .pair.simple{max-width:600px;padding-left:30px;text-indent:-30px;white-space:normal}.jsonpanel .pair .val:after{content:","}.jsonpanel .pair:last-child .val:after{display:none}.jsonpanel .val-inner{display:inline-block;max-width:28em;overflow:hidden;text-overflow:ellipsis;vertical-align:top}.jsonpanel .expander{display:block;text-decoration:none;color:#000}.jsonpanel .expander:hover{transition:background-color .3s ease;background-color:#d3dff0}.jsonpanel .expander .key:before{content:"+";margin-right:.5em}.jsonpanel .expanded{position:relative}.jsonpanel .expanded>.expander .key:before{content:"-"}.jsonpanel .expanded>.expander .val{opacity:0}.jsonpanel .expanded>.panel{margin-left:2em}.jsonpanel .boolean{color:red}.jsonpanel .string{color:green}.jsonpanel .number{color:#00f}.jsonpanel .array .val-inner,.jsonpanel .object .val-inner{color:#a5a5a5}@-webkit-keyframes fadeInText{0%{opacity:0}to{opacity:1}}@keyframes fadeInText{0%{opacity:0}to{opacity:1}}.list{-webkit-animation-name:fadeInText;animation-name:fadeInText;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.val{opacity:1;transition:opacity .4s ease}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzb25wYW5lbC1uZXh0LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FDRSxxQkFBc0IsQ0FDdEIsa0JBQW1CLENBQ25CLHFCQUFzQixDQUN0QixXQUFZLENBQ1osZUFBa0IsQ0FDbEIsYUFDRSxRQUFTLENBQ1QsU0FBWSxDQUNkLGtCQUNFLG9CQUFxQixDQUNyQixrQkFBcUIsQ0FDdkIsaUJBQ0Usb0JBQXFCLENBQ3JCLGNBQWtCLENBQ3BCLHFCQUNFLFdBQWMsQ0FDaEIsb0JBQ0UsV0FBYyxDQUNoQixxQkFDRSxXQUFjLENBQ2hCLG9CQUNFLFdBQWMsQ0FDaEIsZ0JBQ0UsZUFBZ0IsQ0FDaEIsZUFBbUIsQ0FDckIsd0JBQ0UsZUFBZ0IsQ0FDaEIsaUJBQWtCLENBQ2xCLGlCQUFrQixDQUNsQixrQkFBcUIsQ0FDdkIsNEJBQ0UsV0FBYyxDQUNoQix1Q0FDRSxZQUFlLENBQ2pCLHNCQUNFLG9CQUFxQixDQUNyQixjQUFlLENBQ2YsZUFBZ0IsQ0FDaEIsc0JBQXVCLENBQ3ZCLGtCQUFxQixDQUN2QixxQkFDRSxhQUFjLENBQ2Qsb0JBQXFCLENBQ3JCLFVBQWMsQ0FDZCwyQkFDRSxvQ0FBc0MsQ0FDdEMsd0JBQTJCLENBQzdCLGlDQUNFLFdBQVksQ0FDWixpQkFBcUIsQ0FDekIscUJBQ0UsaUJBQW9CLENBQ3BCLDJDQUNFLFdBQWMsQ0FDaEIsb0NBQ0UsU0FBWSxDQUNkLDRCQUNFLGVBQWtCLENBQ3RCLG9CQUNFLFNBQVksQ0FDZCxtQkFDRSxXQUFjLENBQ2hCLG1CQUNFLFVBQWEsQ0FDZiwyREFFRSxhQUFnQixDQUVwQiw4QkFDRSxHQUNFLFNBQVksQ0FDZCxHQUNFLFNBQVksQ0FBRSxDQUpsQixzQkFDRSxHQUNFLFNBQVksQ0FDZCxHQUNFLFNBQVksQ0FBRSxDQUVsQixNQUNFLGlDQUEwQixDQUExQix5QkFBMEIsQ0FDMUIsbUNBQTRCLENBQTVCLDJCQUE0QixDQUM1Qix5Q0FBa0MsQ0FBbEMsaUNBQWtDLENBQ2xDLDhCQUF3QixDQUF4QixzQkFBd0IsQ0FDeEIsb0NBQTZCLENBQTdCLDRCQUErQixDQUVqQyxLQUNFLFNBQVUsQ0FDViwyQkFBK0IiLCJmaWxlIjoianNvbnBhbmVsLW5leHQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5qc29ucGFuZWwge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xuICBwYWRkaW5nOiAxZW07XG4gIGxpbmUtaGVpZ2h0OiAxLjQ7IH1cbiAgLmpzb25wYW5lbCAqIHtcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMDsgfVxuICAuanNvbnBhbmVsIC5wYW5lbCB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7IH1cbiAgLmpzb25wYW5lbCAubGlzdCB7XG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICAgIHBhZGRpbmc6IDAuNWVtIDA7IH1cbiAgLmpzb25wYW5lbCB1bDpiZWZvcmUge1xuICAgIGNvbnRlbnQ6ICd7JzsgfVxuICAuanNvbnBhbmVsIHVsOmFmdGVyIHtcbiAgICBjb250ZW50OiAnfSc7IH1cbiAgLmpzb25wYW5lbCBvbDpiZWZvcmUge1xuICAgIGNvbnRlbnQ6ICdbJzsgfVxuICAuanNvbnBhbmVsIG9sOmFmdGVyIHtcbiAgICBjb250ZW50OiAnXSc7IH1cbiAgLmpzb25wYW5lbCAua2V5IHtcbiAgICBtYXJnaW4tbGVmdDogMWVtO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkOyB9XG4gIC5qc29ucGFuZWwgLnBhaXIuc2ltcGxlIHtcbiAgICBtYXgtd2lkdGg6IDYwMHB4O1xuICAgIHBhZGRpbmctbGVmdDogMzBweDtcbiAgICB0ZXh0LWluZGVudDogLTMwcHg7XG4gICAgd2hpdGUtc3BhY2U6IG5vcm1hbDsgfVxuICAuanNvbnBhbmVsIC5wYWlyIC52YWw6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6IFwiLFwiOyB9XG4gIC5qc29ucGFuZWwgLnBhaXI6bGFzdC1jaGlsZCAudmFsOmFmdGVyIHtcbiAgICBkaXNwbGF5OiBub25lOyB9XG4gIC5qc29ucGFuZWwgLnZhbC1pbm5lciB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIG1heC13aWR0aDogMjhlbTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7IH1cbiAgLmpzb25wYW5lbCAuZXhwYW5kZXIge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICBjb2xvcjogYmxhY2s7IH1cbiAgICAuanNvbnBhbmVsIC5leHBhbmRlcjpob3ZlciB7XG4gICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNEM0RGRjA7IH1cbiAgICAuanNvbnBhbmVsIC5leHBhbmRlciAua2V5OmJlZm9yZSB7XG4gICAgICBjb250ZW50OiBcIitcIjtcbiAgICAgIG1hcmdpbi1yaWdodDogMC41ZW07IH1cbiAgLmpzb25wYW5lbCAuZXhwYW5kZWQge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgfVxuICAgIC5qc29ucGFuZWwgLmV4cGFuZGVkID4gLmV4cGFuZGVyIC5rZXk6YmVmb3JlIHtcbiAgICAgIGNvbnRlbnQ6IFwiLVwiOyB9XG4gICAgLmpzb25wYW5lbCAuZXhwYW5kZWQgPiAuZXhwYW5kZXIgLnZhbCB7XG4gICAgICBvcGFjaXR5OiAwOyB9XG4gICAgLmpzb25wYW5lbCAuZXhwYW5kZWQgPiAucGFuZWwge1xuICAgICAgbWFyZ2luLWxlZnQ6IDJlbTsgfVxuICAuanNvbnBhbmVsIC5ib29sZWFuIHtcbiAgICBjb2xvcjogcmVkOyB9XG4gIC5qc29ucGFuZWwgLnN0cmluZyB7XG4gICAgY29sb3I6IGdyZWVuOyB9XG4gIC5qc29ucGFuZWwgLm51bWJlciB7XG4gICAgY29sb3I6IGJsdWU7IH1cbiAgLmpzb25wYW5lbCAuYXJyYXkgLnZhbC1pbm5lcixcbiAgLmpzb25wYW5lbCAub2JqZWN0IC52YWwtaW5uZXIge1xuICAgIGNvbG9yOiAjYTVhNWE1OyB9XG5cbkBrZXlmcmFtZXMgZmFkZUluVGV4dCB7XG4gIGZyb20ge1xuICAgIG9wYWNpdHk6IDA7IH1cbiAgdG8ge1xuICAgIG9wYWNpdHk6IDE7IH0gfVxuXG4ubGlzdCB7XG4gIGFuaW1hdGlvbi1uYW1lOiBmYWRlSW5UZXh0O1xuICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxO1xuICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xuICBhbmltYXRpb24tZHVyYXRpb246IDAuNHM7XG4gIGFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzOyB9XG5cbi52YWwge1xuICBvcGFjaXR5OiAxO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuNHMgZWFzZTsgfVxuIl19 */');var l={selector:"#jsonpanel",data:{}};return function(e){return e=t(e,l),o.renderToEl(window.document.querySelector(e.selector),e)}});
//# sourceMappingURL=jsonpanel-next.umd.min.js.map
